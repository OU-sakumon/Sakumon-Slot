# マニュアル

## 問題ファイルの作成について

作成手順は以下の手順で行ってください。

1. `docs/シート構成ルール.md`に沿って左・中央・右の各パーツの問題と属性を設定する。
2. [解答作成ツール](https://ou-sakumon.github.io/Sakumon-Slot/dev/make_anssheet/index.html)の指示に従って解答を作成する。
3. `dev/xlsx2tex2png/xlsx2tex2png.py`を起動して問題の画像を作成する。
4. 全てを1つの`zip`ファイルとしてまとめる。

### 注意事項

#### スロット.xlsxについて

スロットに登場する問題は、`スロット.xlsx`に登録してください。構成ルールなどは`docs/シート構成ルール.md`をご覧ください。
サンプルの問題セットとして、`サンプル問題.zip`を用意しています。これを展開すると、サンプルの`スロット.xlsx`が見れます。また、この`zip`をアップロードすると、サンプル問題でプレイができます。

#### 解答作成ツールについて
- 解答の列、誤答の列を空欄にしていると、スロットに登場しません。微妙な問題ができた時はそのように対処してください。
- `make_anssheet.py`はAnsシートにまだ加えられていない問題のみを追加します。これは、上の対処法で削除した問題が再生成されるのを防ぐためです。
- 問題の追加に伴いAnsシートを書き直す必要がある場合、それまでのAnsシートを一度リセットする必要はありません。


## カスタマイズ

### 問題データの変更
`スロット.xlsx`ファイルを編集して、新しい問題を追加できます。

### デザインの変更
`index.html`の`<style>`セクションを編集して、見た目をカスタマイズできます。

### 音響の調整
`slot-audio.js`の`masterVolume`プロパティを変更して音量を調整できます。

### ゲーム設定の変更
`slot-logic.js`で以下の設定を変更できます：
- 制限時間（デフォルト: 60秒）
- スロットが停止するまでの時間（デフォルト: 3秒）
- 問題の重複回避設定

### デバッグ機能
ブラウザのコンソールで以下のコマンドが使用できます：
- `getSlotDebugInfo()` - デバッグ情報を表示
- `getCurrentSlotState()` - 現在のスロット状態を確認

## エラー対処法

### xlsx2tex2png

・`\neq`を`\neq `に置き換える
・`\quad`を全て削除